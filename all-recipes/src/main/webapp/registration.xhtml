<!-- ~ Copyright 2013 twiliofaces.org. ~ ~ Licensed under the Eclipse Public 
	License version 1.0, available at ~ http://www.eclipse.org/legal/epl-v10.html -->
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/WEB-INF/layout/t.xhtml">

	<ui:define name="title">
		<h:outputText
			value="Twilio Cookbook Recipes using java EE (twiliofaces): all recipes" />
	</ui:define>
	<ui:define name="content">
		<h:form>

			<h:panelGrid columns="2" rendered="#{empty userController.user.id}">

				<h:outputLabel for="name" value="fullname: " />
				<h:inputText id="name" value="#{userController.user.name}"
					required="true" requiredMessage="Fullname is required" />

				<h:outputLabel for="username"
					value="login (must be a valid email address): " />
				<h:inputText id="username" value="#{userController.user.username}"
					required="true"
					requiredMessage="Username is required and must be a valid email address" />

				<h:outputLabel for="mobile"
					value="mobile number (password will be sent here): " />
				<h:inputText id="mobile" value="#{userController.user.mobile}"
					required="true"
					requiredMessage="Mobile number is required" />

				<h:outputLabel for="password" value="password: "
					rendered="#{not userController.user.random}" />
				<h:inputSecret id="password" value="#{userController.user.password}"
					rendered="#{not userController.user.random}" />

				<h:outputLabel for="confirmPassword" value="confirm password: "
					rendered="#{not userController.user.random}" />
				<h:inputSecret id="confirmPassword"
					value="#{userController.user.confirmPassword}"
					rendered="#{not userController.user.random}" />

				<h:outputLabel for="twilioNumber" value="twilioNumber: " />
				<h:inputText id="twilioNumber" required="true"
					requiredMessage="Twilio number is required"
					value="#{userController.user.twilioNumber}" />

				<h:outputLabel for="applicationSid" value="applicationSid: " />
				<h:inputText id="applicationSid" required="true"
					requiredMessage="Application sid is required"
					value="#{userController.user.applicationSid}" />

				<h:outputLabel for="twilioSid" value="twilioSid: " />
				<h:inputText id="twilioSid" value="#{userController.user.twilioSid}"
					required="true" requiredMessage="Twilio sid is required" />

				<h:commandButton action="#{userController.save}" value="save" />

			</h:panelGrid>

			<h:panelGrid columns="1"
				rendered="#{not empty userController.user.id}">

				<h:outputText rendered="false"
					value="Password for user #{userController.user.username} (#{userController.user.name}) has been sent to #{userController.user.mobile}" />
				<h:outputText rendered="true"
					value="Password for user #{userController.user.username} (#{userController.user.name}) is: #{userController.user.newPassword}" />

				<h:outputLink value="/recipes/table-of-contents.jsf">
					<h:outputText value="Login" />
				</h:outputLink>

			</h:panelGrid>


		</h:form>
	</ui:define>
</ui:composition>