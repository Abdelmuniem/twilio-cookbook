<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:tf="http://twiliofaces.org/twiliofaces" lang="en">

<h:head>
	<title>Text-To-Speech</title>
	<tf:jsClient token="#{twilioCapabilityTokenController.capabilityToken}" debug="true"
		rtc="true">
		<f:facet name="ready">
		 	 $("#submit").click(function() { speak(); });
		</f:facet>
		<f:facet name="javascript">
      	function speak() {
			var dialogue = $("#dialogue").val();
			var voice = $('input:radio[name=voice]:checked').val();
			$('#submit').attr('disabled', 'disabled');
			Twilio.Device.connect({ 'dialogue' : dialogue, 'voice' : voice });
		}
		Twilio.Device.disconnect(function (conn) {
			$('#submit').removeAttr('disabled');
		});
    	</f:facet>
	</tf:jsClient>
</h:head>
<h:body>
	<p>
		<label for="dialogue">Text to be spoken</label> <input type="text"
			id="dialogue" name="dialogue" size="50">
	</p>
	<p>
		<label for="voice-male">Male Voice</label> 
		<input type="radio" id="voice-male" name="voice" value="1" checked="checked" />
			
		<label for="voice-female">Female Voice</label> 
		<input type="radio" id="voice-female" name="voice" value="2"/>
	</p>
	<p>
		<input type="button" id="submit" name="submit" value="Speak to me" />
	</p>
</h:body>
</html>